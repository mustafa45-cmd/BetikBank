<!-- Kartlar SayfasÄ± - KullanÄ±cÄ±nÄ±n tÃ¼m kartlarÄ±nÄ± listeler -->
{% extends "base.html" %}

{% block title %}KartlarÄ±m - BetikBank{% endblock %}

{% block content %}
<div class="container">
    <!-- Sayfa BaÅŸlÄ±ÄŸÄ± ve Yeni Kart Butonu -->
    <div class="page-header">
        <h1 class="page-title">KartlarÄ±m</h1>
        <a href="{{ url_for('new_card') }}" class="btn btn-primary">+ Yeni Kart OluÅŸtur</a>
    </div>

    <!-- Kartlar Listesi -->
    {% if kartlar %}
    <div class="cards-list">
        {% for kart in kartlar %}
        <div class="card-item-large">
            <div class="card-visual">
                <div class="card-chip"></div>
                <div class="card-number-display">{{ kart.kart_no[:4] }} {{ kart.kart_no[4:8] }} {{ kart.kart_no[8:12] }} {{ kart.kart_no[12:16] }}</div>
                <div class="card-footer-display">
                    <div>
                        <p class="card-owner-label">KART SAHÄ°BÄ°</p>
                        <p class="card-owner-name">{{ kart.kart_sahibi_adi.upper() }}</p>
                    </div>
                    <div>
                        <p class="card-expiry-label">GEÃ‡ERLÄ°LÄ°K</p>
                        <p class="card-expiry-date">{{ kart.son_kullanim_tarihi }}</p>
                    </div>
                </div>
            </div>
            <div class="card-info">
                <div class="info-row">
                    <span class="info-label">Kart TÃ¼rÃ¼:</span>
                    <span class="info-value">{{ kart.kart_turu }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Kart NumarasÄ±:</span>
                    <span class="info-value">**** **** **** {{ kart.kart_no[-4:] }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">CVV:</span>
                    <span class="info-value">***</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Durum:</span>
                    <span class="info-value badge-{{ kart.durum|lower }}">{{ kart.durum }}</span>
                </div>
                {% if kart.limit > 0 %}
                <div class="info-row">
                    <span class="info-label">Limit:</span>
                    <span class="info-value">{{ "%.2f"|format(kart.limit) }} TL</span>
                </div>
                {% endif %}
                <div class="info-row">
                    <span class="info-label">BaÄŸlÄ± Hesap:</span>
                    <span class="info-value">{{ kart.hesap.hesap_no }}</span>
                </div>
                <div class="card-actions">
                    <a href="{{ url_for('card_detail', kart_id=kart.id) }}" class="btn btn-secondary">DetaylarÄ± GÃ¶r</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state-large">
        <div class="empty-icon">ğŸ’³</div>
        <h2>HenÃ¼z kartÄ±nÄ±z bulunmamaktadÄ±r</h2>
        <p>Ä°ÅŸlemlerinizi kolaylaÅŸtÄ±rmak iÃ§in yeni bir kart oluÅŸturabilirsiniz.</p>
        <a href="{{ url_for('new_card') }}" class="btn btn-primary">Yeni Kart OluÅŸtur</a>
    </div>
    {% endif %}
</div>
{% endblock %}





